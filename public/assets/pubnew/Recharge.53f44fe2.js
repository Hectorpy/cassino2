import{a as P,o as F,c as q}from"./index.63484d31.js";import{j as G}from"./icons.ee65c48b.js";import{b as J,p as d,v as O,J as H,af as K,ag as Q,o as i,c as f,a as e,x as r,w as _,g as u,O as $,N as B,f as M,n as X,y as g,t as x,h as N,I as Y,u as Z,z as W,ay as ee,az as oe,B as se,D as ae,F as te}from"./bundle.d3169b93.js";import{_ as ne}from"./BackIcon.0c3788dd.js";import{p as le,r as ce}from"./pay.46ebe093.js";const y=v=>(ae("data-v-43557f58"),v=v(),te(),v),de={class:"recharge-page-wrap pall15"},ie={class:"nav-header"},re=y(()=>e("b",null,"Recarrega",-1)),_e={class:"main-wrap"},ue=["src"],pe={class:"card mt8"},me=y(()=>e("div",{class:"flex-a"},[e("span",{class:"c-theme fs14"},"R$")],-1)),he={class:""},fe=["onClick"],ve={key:0,class:"cgold award"},ge=y(()=>e("p",{class:"mt20 mb10 ta"},[e("span",{class:"block-title fs12"},"Escolha o m\xE9todo de pagamento")],-1)),ye={class:"fs13"},we=g(" Enviar "),be={key:0,class:"teach-wrap mt20 pb30"},ke=y(()=>e("div",{class:"title-wrap flex-a-j"},[e("div",{class:"line"}),e("div",{class:"ml10 mr10 c-theme2 fs14"},"Tutorial de recarga"),e("div",{class:"line"})],-1)),Ve={class:"ta mt14"},xe=["src"],Re={class:"video-wrap"},Ce={controls:"",style:{width:"100%"}},Ee=["src"],Ie=g(" Download the "),$e=["href"],Be=g(" video. "),Me=J({__name:"Recharge",setup(v){const S=Y(),U=Z();let t=d({min_tips:"",award_tips:"",method_list:[],money_list:[],moneyAwardList:[],bindPhone:!1});const p=d(""),h=d(""),w=d(!1),T=d(!1),b=d(!1),R=d("");O(R,a=>{p.value=a});const j=async()=>{var c;const[a,s]=await le();if(T.value=!0,a)return;const{data:l={}}=s;t.value=l,h.value=(c=l.method_list[0])==null?void 0:c.channel},z=async()=>{w.value=!0;const a={money:p.value,channel:h.value},{tag:s,rechargeTag:l,couponId:c}=S.query;(s||l)&&(a.rechargeTag=s||l),c&&(a.couponId=c);let n;F.isSafari&&(n=window.open("about:blank","_blank"));const[k,V]=await ce(a);if(w.value=!1,k)return n==null?void 0:n.close();const{data:{jumpUrl:m}}=V;if(window.nativeApp){location.href=m;return}if(n){n.location.href=m;return}window.open(m,"_blank")||(location.href=m)},A=()=>{U.push(`/video?iuri=${t.value.teachVideo}`)};return H(()=>{j()}),(a,s)=>{var E;const l=ne,c=W,n=K,k=Q,V=ee,m=oe,C=se,D=G,L=q;return i(),f("div",de,[e("div",ie,[r(l,{class:"icon-back",onClick:s[0]||(s[0]=o=>a.$router.back())}),re]),e("div",null,[e("div",_e,[e("img",{src:a.$cdnUrl("264009920e3337"),class:"w345"},null,8,ue),e("div",pe,[r(c,{modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=o=>p.value=o),type:"text","auto-complete":"off",placeholder:u(t).min_tips,class:"fs18"},{prefix:_(()=>[me]),_:1},8,["modelValue","placeholder"]),e("div",he,[r(k,{gutter:10,class:"money-wrap mt15 fs14"},{default:_(()=>[(i(!0),f($,null,B(u(t).moneyAwardList,o=>(i(),M(n,{md:8,sm:8,xs:8,key:o.money},{default:_(()=>[e("div",{class:X(["money-item h35 fs12",{active:p.value===o.money+""}]),onClick:I=>R.value=o.money+""},[g(" R$ "+x(o.money)+" ",1),o.award>0?(i(),f("span",ve," +"+x(o.award),1)):N("",!0)],10,fe)]),_:2},1024))),128))]),_:1})])]),ge,r(m,{modelValue:h.value,"onUpdate:modelValue":s[2]||(s[2]=o=>h.value=o)},{default:_(()=>[(i(!0),f($,null,B(u(t).method_list,(o,I)=>(i(),M(V,{key:I,label:o.channel,class:"h44"},{default:_(()=>[e("span",ye,x(o.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),r(C,{disabled:!h.value||!p.value,loading:w.value,onClick:z,type:"primary",class:"mt30 submit-btn h35 fs14"},{default:_(()=>[we]),_:1},8,["disabled","loading"]),u(t).teachVideo?(i(),f("div",be,[ke,e("div",Ve,[e("img",{src:(E=u(t))==null?void 0:E.teachImg,class:"w70",alt:"",onClick:A},null,8,xe)])])):N("",!0),r(L,{modelValue:b.value,"onUpdate:modelValue":s[4]||(s[4]=o=>b.value=o)},{default:_(()=>[e("div",Re,[e("video",Ce,[e("source",{src:u(t).teachVideo,type:"video/mp4"},null,8,Ee),Ie,e("a",{href:u(t).teachVideo},"MP4",8,$e),Be]),r(D,{class:"close w20 h20",onClick:s[3]||(s[3]=o=>b.value=!1)})])]),_:1},8,["modelValue"])])])])}}}),ze=P(Me,[["__scopeId","data-v-43557f58"]]);export{ze as default};
