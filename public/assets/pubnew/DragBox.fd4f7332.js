import{a as x}from"./index.5033bff8.js";import{r as h,o as g,c as b,y as M,n as y,S as w}from"./bundle.2a7d263a.js";const B={__name:"DragBox",props:{disabled:{type:Boolean,default:!1}},setup(c){const i=c,f=Math.max(document.documentElement.offsetWidth,window.innerWidth),u=Math.max(document.documentElement.offsetHeight,window.innerHeight),t={hasMoved:!1,x:f-100,y:u-80,startX:0,startY:0,endX:0,endY:0},s=h({x:f-120,y:u-100}),a=h(),m=(e,o)=>{[e,o]=l(e,o),t.x=e,t.y=o,s.value.x=e,s.value.y=o},l=(e,o)=>{const d=Math.max(document.documentElement.offsetWidth,window.innerWidth),n=Math.max(document.documentElement.offsetHeight,window.innerHeight);return e+a.value.offsetWidth>d&&(e=d-a.value.offsetWidth),o+a.value.offsetHeight>n&&(o=n-a.value.offsetHeight),e<0&&(e=0),o<20&&(o=20),[e,o]},v=e=>{i.disabled||(t.startX=e.touches[0].pageX,t.startY=e.touches[0].pageY,t.hasMoved=!1)},_=e=>{i.disabled||!t.hasMoved||(t.startX=0,t.startY=0,t.hasMoved=!1,m(t.endX,t.endY))},p=e=>{if(i.disabled||e.touches.length<=0)return;const o=e.touches[0].pageX-t.startX,d=e.touches[0].pageY-t.startY;let n=Math.floor(t.x-o),r=Math.floor(t.y-d);[n,r]=l(n,r),s.value.x=n,s.value.y=r,t.endX=n,t.endY=r,t.hasMoved=!0,e.preventDefault()};return(e,o)=>(g(),b("div",{ref_key:"dragBoxRef",ref:a,class:y(["tvb-drag-box",{disabled:c.disabled}]),style:w(c.disabled?"":`right: ${s.value.x}px; bottom: ${s.value.y}px;`),onTouchstart:v,onTouchend:_,onTouchmove:p},[M(e.$slots,"default",{},void 0,!0)],38))}},X=x(B,[["__scopeId","data-v-2597bcbf"]]);export{X as _};
